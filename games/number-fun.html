<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Number Fun</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;touch-action:manipulation;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  background:linear-gradient(135deg,#1a0a2e 0%,#16213e 50%,#0f3460 100%);
  color:white;-webkit-user-select:none;user-select:none;
}

.app{width:100%;height:100%;display:flex;flex-direction:column;position:relative;z-index:1}

.header{flex-shrink:0;text-align:center;padding:14px 20px 8px}
.header h1{font-size:clamp(20px,3vw,32px);font-weight:800;color:#f9a825;text-shadow:0 3px 12px rgba(0,0,0,.5)}
.header p{font-size:clamp(10px,1.2vw,13px);color:rgba(255,255,255,.45)}

.content{flex:1;display:flex;min-height:0;padding:0 16px 8px;gap:16px}

.number-display{
  flex:0 0 clamp(220px,30vw,400px);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:rgba(255,255,255,.04);border:1px solid rgba(249,168,37,.2);
  border-radius:20px;position:relative;overflow:hidden;
}
.number-big{
  font-size:clamp(100px,16vw,200px);font-weight:800;
  color:#f9a825;line-height:1;
  text-shadow:0 0 40px rgba(249,168,37,.3),0 4px 20px rgba(0,0,0,.5);
  transition:all .4s;
}
.number-big.pop{animation:numPop .5s ease}
@keyframes numPop{0%{transform:scale(.5) rotate(-10deg);opacity:0}60%{transform:scale(1.15) rotate(3deg)}100%{transform:scale(1) rotate(0);opacity:1}}
.number-word{
  margin-top:8px;font-size:clamp(24px,3vw,40px);font-weight:700;
  color:rgba(249,168,37,.7);
}
.number-dots{
  margin-top:16px;display:flex;flex-wrap:wrap;justify-content:center;
  gap:8px;max-width:200px;
}
.dot-item{
  width:clamp(20px,2.5vw,30px);height:clamp(20px,2.5vw,30px);
  border-radius:50%;
  animation:dotAppear .4s ease backwards;
}
@keyframes dotAppear{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}
.number-fact{
  margin-top:14px;font-size:clamp(12px,1.3vw,15px);
  color:rgba(255,255,255,.55);text-align:center;
  max-width:90%;line-height:1.5;
}
.btn-speak{
  margin-top:16px;padding:10px 24px;
  background:rgba(249,168,37,.12);border:2px solid rgba(249,168,37,.35);
  border-radius:50px;color:#f9a825;font-size:14px;font-weight:600;
  cursor:pointer;transition:all .3s;
}
.btn-speak:hover,.btn-speak:active{background:rgba(249,168,37,.25);border-color:rgba(249,168,37,.6)}

.right-side{flex:1;display:flex;flex-direction:column;min-height:0;gap:10px}

.number-grid{
  flex:1;display:grid;
  grid-template-columns:repeat(auto-fill,minmax(clamp(60px,6vw,80px),1fr));
  gap:8px;overflow-y:auto;padding:4px;align-content:start;
}
.number-grid::-webkit-scrollbar{width:4px}
.number-grid::-webkit-scrollbar-thumb{background:rgba(249,168,37,.2);border-radius:4px}
.num-cell{
  aspect-ratio:1;display:flex;align-items:center;justify-content:center;
  font-size:clamp(22px,2.8vw,36px);font-weight:800;
  background:rgba(255,255,255,.05);border:2px solid rgba(249,168,37,.15);
  border-radius:14px;cursor:pointer;transition:all .3s;
  color:rgba(255,255,255,.6);
}
.num-cell:hover{background:rgba(249,168,37,.12);border-color:rgba(249,168,37,.4);transform:scale(1.08)}
.num-cell:active{transform:scale(.95)}
.num-cell.active{
  background:rgba(249,168,37,.2);border-color:#f9a825;
  color:#f9a825;box-shadow:0 0 16px rgba(249,168,37,.2);
}

.nav-row{flex-shrink:0;display:flex;align-items:center;justify-content:center;gap:12px;padding:4px 0}
.btn-nav{
  padding:8px 20px;font-size:13px;font-weight:600;
  background:rgba(249,168,37,.1);border:2px solid rgba(249,168,37,.3);
  color:white;border-radius:50px;cursor:pointer;transition:all .3s;
}
.btn-nav:hover{background:rgba(249,168,37,.2);border-color:rgba(249,168,37,.5)}
.btn-nav:active{transform:scale(.95)}
.btn-nav:disabled{opacity:.3;cursor:default;transform:none}

.footer{flex-shrink:0;text-align:center;padding:4px 20px 12px}
.btn-back{
  padding:8px 26px;font-size:14px;font-weight:600;
  background:rgba(249,168,37,.1);border:2px solid rgba(249,168,37,.3);
  color:white;border-radius:50px;cursor:pointer;transition:all .3s;
}
.btn-back:hover,.btn-back:active{background:rgba(249,168,37,.2);border-color:rgba(249,168,37,.5)}

.bg-stars{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.star{
  position:absolute;width:2px;height:2px;border-radius:50%;background:white;
  animation:twinkle var(--dur) ease-in-out infinite;
}
@keyframes twinkle{0%,100%{opacity:.1}50%{opacity:.8}}

.touch-ring{
  position:fixed;width:60px;height:60px;
  border:3px solid rgba(249,168,37,.6);border-radius:50%;
  pointer-events:none;z-index:9999;
  transform:translate(-50%,-50%) scale(0);
  animation:ringPop .6s ease forwards;
}
@keyframes ringPop{
  0%{transform:translate(-50%,-50%) scale(0);opacity:1}
  100%{transform:translate(-50%,-50%) scale(2);opacity:0}
}
</style>
</head>
<body>
<div class="bg-stars" id="bgStars"></div>

<div class="app">
  <div class="header">
    <h1>Number Fun</h1>
    <p>Tap a number to explore counting, words, and fun facts</p>
  </div>

  <div class="content">
    <div class="number-display">
      <div class="number-big" id="numBig">1</div>
      <div class="number-word" id="numWord">One</div>
      <div class="number-dots" id="numDots"></div>
      <div class="number-fact" id="numFact"></div>
      <button class="btn-speak" id="btnSpeak">&#128266; Hear It</button>
    </div>

    <div class="right-side">
      <div class="number-grid" id="numGrid"></div>
      <div class="nav-row">
        <button class="btn-nav" id="btnPrev">&#9664; Previous</button>
        <button class="btn-nav" id="btnNext">Next &#9654;</button>
      </div>
    </div>
  </div>

  <div class="footer">
    <button class="btn-back" id="btnBack">Back to Menu</button>
  </div>
</div>

<script>
var DOT_COLORS = ['#ef4444','#f97316','#eab308','#22c55e','#3b82f6','#8b5cf6','#ec4899','#14b8a6','#f43f5e','#6366f1',
  '#10b981','#f59e0b','#e11d48','#0ea5e9','#a855f7','#84cc16','#06b6d4','#d946ef','#64748b','#fb923c'];

var NUMBERS = [
  {n:1,word:'One',fact:'One is the loneliest number -- and the first counting number!'},
  {n:2,word:'Two',fact:'Humans have 2 eyes, 2 ears, 2 hands, and 2 feet.'},
  {n:3,word:'Three',fact:'A triangle has exactly 3 sides and 3 corners.'},
  {n:4,word:'Four',fact:'Most animals walk on 4 legs. A square has 4 sides.'},
  {n:5,word:'Five',fact:'You have 5 fingers on each hand -- 10 in total!'},
  {n:6,word:'Six',fact:'Insects have 6 legs. A cube has 6 faces.'},
  {n:7,word:'Seven',fact:'There are 7 colors in a rainbow and 7 days in a week.'},
  {n:8,word:'Eight',fact:'An octopus has 8 arms. A stop sign has 8 sides.'},
  {n:9,word:'Nine',fact:'Cats are said to have 9 lives!'},
  {n:10,word:'Ten',fact:'We count in tens because we have 10 fingers.'},
  {n:11,word:'Eleven',fact:'A soccer team has 11 players on the field.'},
  {n:12,word:'Twelve',fact:'There are 12 months in a year and 12 hours on a clock face.'},
  {n:13,word:'Thirteen',fact:'13 is a "teen" number -- the first of the teenagers!'},
  {n:14,word:'Fourteen',fact:'A fortnight is 14 days -- two whole weeks.'},
  {n:15,word:'Fifteen',fact:'15 minutes is a quarter of an hour.'},
  {n:16,word:'Sixteen',fact:'16 ounces make 1 pound.'},
  {n:17,word:'Seventeen',fact:'17 is a prime number -- only divisible by 1 and itself.'},
  {n:18,word:'Eighteen',fact:'A golf course has 18 holes.'},
  {n:19,word:'Nineteen',fact:'19 is the last teen number before twenty!'},
  {n:20,word:'Twenty',fact:'20 is called a "score." Four score = 80!'}
];

var currentIdx = 0;
var grid = document.getElementById('numGrid');
var numCells = [];

function buildGrid() {
  NUMBERS.forEach(function(item, i) {
    var cell = document.createElement('div');
    cell.className = 'num-cell' + (i === 0 ? ' active' : '');
    cell.textContent = item.n;
    cell.dataset.index = i;
    grid.appendChild(cell);
    numCells.push(cell);
  });
}

function showNumber(idx) {
  currentIdx = idx;
  var item = NUMBERS[idx];
  var big = document.getElementById('numBig');
  big.textContent = item.n;
  big.classList.remove('pop');
  void big.offsetWidth;
  big.classList.add('pop');
  document.getElementById('numWord').textContent = item.word;
  document.getElementById('numFact').textContent = item.fact;

  var dotsContainer = document.getElementById('numDots');
  dotsContainer.innerHTML = '';
  for (var d = 0; d < item.n; d++) {
    var dot = document.createElement('div');
    dot.className = 'dot-item';
    dot.style.background = DOT_COLORS[d % DOT_COLORS.length];
    dot.style.animationDelay = (d * 0.06) + 's';
    dotsContainer.appendChild(dot);
  }

  numCells.forEach(function(c, i) { c.classList.toggle('active', i === idx); });
  document.getElementById('btnPrev').disabled = idx === 0;
  document.getElementById('btnNext').disabled = idx === NUMBERS.length - 1;

  playNumberSound(item.n);
}

function playNumberSound(n) {
  try {
    var ac = new (window.AudioContext || window.webkitAudioContext)();
    var now = ac.currentTime;
    var base = 220 + n * 25;
    for (var i = 0; i < Math.min(n, 5); i++) {
      var o = ac.createOscillator(), g = ac.createGain();
      o.connect(g); g.connect(ac.destination);
      o.type = 'sine'; o.frequency.value = base + i * 40;
      var t = now + i * 0.08;
      g.gain.setValueAtTime(0.12, t);
      g.gain.exponentialRampToValueAtTime(0.001, t + 0.15);
      o.start(t); o.stop(t + 0.15);
    }
  } catch(e) {}

  if ('speechSynthesis' in window) {
    window.speechSynthesis.cancel();
    var u = new SpeechSynthesisUtterance(n + '. ' + NUMBERS[currentIdx].word);
    u.rate = 0.85; u.pitch = 1.1;
    window.speechSynthesis.speak(u);
  }
}

function bindTouch(el, fn) {
  el.addEventListener('click', function(e) {
    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;
    fn(e);
  });
  el.addEventListener('touchend', function(e) {
    e.preventDefault(); e.stopPropagation(); fn(e);
  });
}

grid.addEventListener('click', function(e) {
  if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;
  var cell = e.target.closest('.num-cell');
  if (cell) showNumber(parseInt(cell.dataset.index));
});
grid.addEventListener('touchend', function(e) {
  var cell = e.target.closest('.num-cell');
  if (cell) { e.preventDefault(); showNumber(parseInt(cell.dataset.index)); }
});

bindTouch(document.getElementById('btnPrev'), function() {
  if (currentIdx > 0) showNumber(currentIdx - 1);
});
bindTouch(document.getElementById('btnNext'), function() {
  if (currentIdx < NUMBERS.length - 1) showNumber(currentIdx + 1);
});
bindTouch(document.getElementById('btnSpeak'), function() {
  playNumberSound(NUMBERS[currentIdx].n);
});
bindTouch(document.getElementById('btnBack'), function() {
  location.href = '../index.html';
});

buildGrid();
showNumber(0);

var bg = document.getElementById('bgStars');
for (var i = 0; i < 60; i++) {
  var s = document.createElement('div');
  s.className = 'star';
  s.style.left = (Math.random() * 100) + '%';
  s.style.top = (Math.random() * 100) + '%';
  s.style.setProperty('--dur', (2 + Math.random() * 4) + 's');
  s.style.animationDelay = (Math.random() * 4) + 's';
  s.style.width = s.style.height = (1 + Math.random() * 2) + 'px';
  bg.appendChild(s);
}

document.addEventListener('touchstart', function(e) {
  for (var i = 0; i < e.changedTouches.length; i++) {
    var t = e.changedTouches[i];
    var ring = document.createElement('div');
    ring.className = 'touch-ring';
    ring.style.left = t.clientX + 'px';
    ring.style.top = t.clientY + 'px';
    document.body.appendChild(ring);
    ring.addEventListener('animationend', function() { this.remove(); });
  }
}, { passive: true });
</script>
</body>
</html>
