<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Colors & Shapes</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;touch-action:manipulation;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  background:linear-gradient(135deg,#1a1a2e 0%,#16213e 50%,#0f3460 100%);
  color:white;-webkit-user-select:none;user-select:none;
}

.app{width:100%;height:100%;display:flex;flex-direction:column;position:relative;z-index:1}

.header{flex-shrink:0;text-align:center;padding:14px 20px 8px}
.header h1{font-size:clamp(20px,3vw,32px);font-weight:800;color:#e879f9;text-shadow:0 3px 12px rgba(0,0,0,.5)}
.header p{font-size:clamp(10px,1.2vw,13px);color:rgba(255,255,255,.45)}

.tabs{
  flex-shrink:0;display:flex;justify-content:center;gap:8px;padding:0 16px 10px;
}
.tab{
  padding:8px 24px;font-size:clamp(12px,1.3vw,15px);font-weight:700;
  border-radius:50px;cursor:pointer;transition:all .3s;
  border:2px solid rgba(255,255,255,.15);background:rgba(255,255,255,.04);
  color:rgba(255,255,255,.6);
}
.tab:hover{background:rgba(255,255,255,.08)}
.tab.active-colors{background:rgba(232,121,249,.15);border-color:rgba(232,121,249,.5);color:#e879f9}
.tab.active-shapes{background:rgba(56,189,248,.15);border-color:rgba(56,189,248,.5);color:#38bdf8}

.panel{flex:1;display:none;min-height:0;padding:0 16px 8px}
.panel.active{display:flex}

.color-panel{gap:16px}
.color-preview{
  flex:0 0 clamp(200px,26vw,340px);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:rgba(255,255,255,.04);border:1px solid rgba(232,121,249,.2);
  border-radius:20px;overflow:hidden;gap:10px;
}
.color-swatch{
  width:clamp(100px,14vw,160px);height:clamp(100px,14vw,160px);
  border-radius:20px;border:4px solid rgba(255,255,255,.2);
  transition:all .5s cubic-bezier(.4,0,.2,1);
  box-shadow:0 8px 32px rgba(0,0,0,.3);
}
.color-swatch.pop{animation:swatchPop .5s ease}
@keyframes swatchPop{0%{transform:scale(.5) rotate(-15deg);opacity:0}60%{transform:scale(1.1) rotate(3deg)}100%{transform:scale(1) rotate(0);opacity:1}}
.color-name{font-size:clamp(22px,2.8vw,36px);font-weight:800;transition:color .4s}
.color-hex{font-size:clamp(11px,1.1vw,14px);color:rgba(255,255,255,.35);font-family:monospace}
.color-fact{font-size:clamp(11px,1.2vw,14px);color:rgba(255,255,255,.5);text-align:center;max-width:90%;line-height:1.5}
.btn-hear{
  margin-top:8px;padding:8px 20px;
  background:rgba(232,121,249,.12);border:2px solid rgba(232,121,249,.35);
  border-radius:50px;color:#e879f9;font-size:13px;font-weight:600;
  cursor:pointer;transition:all .3s;
}
.btn-hear:hover,.btn-hear:active{background:rgba(232,121,249,.25);border-color:rgba(232,121,249,.6)}

.color-grid-wrap{flex:1;overflow-y:auto;min-height:0}
.color-grid-wrap::-webkit-scrollbar{width:4px}
.color-grid-wrap::-webkit-scrollbar-thumb{background:rgba(232,121,249,.2);border-radius:4px}
.color-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(clamp(60px,6vw,80px),1fr));
  gap:8px;padding:4px;
}
.color-cell{
  aspect-ratio:1;border-radius:14px;cursor:pointer;
  border:3px solid transparent;transition:all .3s;
  position:relative;
}
.color-cell:hover{transform:scale(1.1);border-color:rgba(255,255,255,.4)}
.color-cell:active{transform:scale(.95)}
.color-cell.active{border-color:white;box-shadow:0 0 16px rgba(255,255,255,.3)}
.color-cell-label{
  position:absolute;bottom:3px;left:0;right:0;text-align:center;
  font-size:9px;font-weight:700;color:rgba(255,255,255,.85);
  text-shadow:0 1px 4px rgba(0,0,0,.8);
}

.shape-panel{gap:16px}
.shape-preview{
  flex:0 0 clamp(200px,26vw,340px);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:rgba(255,255,255,.04);border:1px solid rgba(56,189,248,.2);
  border-radius:20px;overflow:hidden;gap:8px;
}
.shape-canvas{
  width:clamp(120px,16vw,180px);height:clamp(120px,16vw,180px);
}
.shape-canvas.pop{animation:shapePop .5s ease}
@keyframes shapePop{0%{transform:scale(.5) rotate(-20deg);opacity:0}60%{transform:scale(1.1) rotate(5deg)}100%{transform:scale(1) rotate(0);opacity:1}}
.shape-name{font-size:clamp(22px,2.8vw,36px);font-weight:800;color:#38bdf8}
.shape-sides{font-size:clamp(13px,1.3vw,16px);color:rgba(56,189,248,.6)}
.shape-fact{font-size:clamp(11px,1.2vw,14px);color:rgba(255,255,255,.5);text-align:center;max-width:90%;line-height:1.5}
.btn-hear-shape{
  margin-top:8px;padding:8px 20px;
  background:rgba(56,189,248,.12);border:2px solid rgba(56,189,248,.35);
  border-radius:50px;color:#38bdf8;font-size:13px;font-weight:600;
  cursor:pointer;transition:all .3s;
}
.btn-hear-shape:hover,.btn-hear-shape:active{background:rgba(56,189,248,.25)}

.shape-grid-wrap{flex:1;overflow-y:auto;min-height:0}
.shape-grid-wrap::-webkit-scrollbar{width:4px}
.shape-grid-wrap::-webkit-scrollbar-thumb{background:rgba(56,189,248,.2);border-radius:4px}
.shape-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(clamp(80px,8vw,110px),1fr));
  gap:10px;padding:4px;
}
.shape-cell{
  aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;
  background:rgba(255,255,255,.05);border:2px solid rgba(56,189,248,.15);
  border-radius:14px;cursor:pointer;transition:all .3s;gap:4px;
}
.shape-cell:hover{background:rgba(56,189,248,.1);border-color:rgba(56,189,248,.4);transform:scale(1.05)}
.shape-cell:active{transform:scale(.95)}
.shape-cell.active{background:rgba(56,189,248,.15);border-color:#38bdf8;box-shadow:0 0 12px rgba(56,189,248,.2)}
.shape-cell canvas{width:40px;height:40px}
.shape-cell-name{font-size:10px;color:rgba(255,255,255,.6);font-weight:600}

.footer{flex-shrink:0;text-align:center;padding:4px 20px 12px}
.btn-back{
  padding:8px 26px;font-size:14px;font-weight:600;
  background:rgba(255,255,255,.08);border:2px solid rgba(255,255,255,.2);
  color:white;border-radius:50px;cursor:pointer;transition:all .3s;
}
.btn-back:hover,.btn-back:active{background:rgba(255,255,255,.15);border-color:rgba(255,255,255,.4)}

.bg-blobs{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.blob{
  position:absolute;border-radius:50%;filter:blur(60px);opacity:.08;
  animation:blobFloat var(--dur) ease-in-out infinite alternate;
}
@keyframes blobFloat{0%{transform:translate(0,0) scale(1)}100%{transform:translate(var(--dx),var(--dy)) scale(1.2)}}

.touch-ring{
  position:fixed;width:60px;height:60px;
  border:3px solid rgba(232,121,249,.6);border-radius:50%;
  pointer-events:none;z-index:9999;
  transform:translate(-50%,-50%) scale(0);
  animation:ringPop .6s ease forwards;
}
@keyframes ringPop{
  0%{transform:translate(-50%,-50%) scale(0);opacity:1}
  100%{transform:translate(-50%,-50%) scale(2);opacity:0}
}
</style>
</head>
<body>
<div class="bg-blobs" id="bgBlobs"></div>

<div class="app">
  <div class="header">
    <h1>Colors & Shapes</h1>
    <p>Explore colors and geometric shapes with fun facts</p>
  </div>

  <div class="tabs">
    <div class="tab active-colors" id="tabColors" data-tab="colors">Colors</div>
    <div class="tab" id="tabShapes" data-tab="shapes">Shapes</div>
  </div>

  <div class="panel color-panel active" id="panelColors">
    <div class="color-preview">
      <div class="color-swatch" id="colorSwatch"></div>
      <div class="color-name" id="colorName">Red</div>
      <div class="color-hex" id="colorHex">#EF4444</div>
      <div class="color-fact" id="colorFact"></div>
      <button class="btn-hear" id="btnHearColor">&#128266; Hear It</button>
    </div>
    <div class="color-grid-wrap">
      <div class="color-grid" id="colorGrid"></div>
    </div>
  </div>

  <div class="panel shape-panel" id="panelShapes">
    <div class="shape-preview">
      <canvas class="shape-canvas" id="shapeCanvas" width="180" height="180"></canvas>
      <div class="shape-name" id="shapeName">Circle</div>
      <div class="shape-sides" id="shapeSides"></div>
      <div class="shape-fact" id="shapeFact"></div>
      <button class="btn-hear-shape" id="btnHearShape">&#128266; Hear It</button>
    </div>
    <div class="shape-grid-wrap">
      <div class="shape-grid" id="shapeGrid"></div>
    </div>
  </div>

  <div class="footer">
    <button class="btn-back" id="btnBack">Back to Menu</button>
  </div>
</div>

<script>
var COLORS = [
  {name:'Red',hex:'#EF4444',fact:'Red is the color of fire engines and stop signs. It grabs attention faster than any other color!'},
  {name:'Orange',hex:'#F97316',fact:'Orange is named after the fruit! Carrots, pumpkins, and sunsets all glow orange.'},
  {name:'Yellow',hex:'#EAB308',fact:'Yellow is the brightest color the human eye can see. The sun looks yellow from Earth!'},
  {name:'Green',hex:'#22C55E',fact:'Green is the color of nature. Plants are green because of chlorophyll.'},
  {name:'Blue',hex:'#3B82F6',fact:'Blue is the most popular favorite color in the world. The sky and ocean both appear blue!'},
  {name:'Cyan',hex:'#06B6D4',fact:'Cyan is a mix of blue and green. It is one of the primary colors used in printing.'},
  {name:'Teal',hex:'#14B8A6',fact:'Teal is named after the teal duck, which has a stripe of this color around its eyes.'},
  {name:'Pink',hex:'#EC4899',fact:'Pink is a calming color. Some sports teams paint the visiting locker room pink!'},
  {name:'Rose',hex:'#F43F5E',fact:'Rose is a warm pinkish-red, named after the beautiful rose flower.'},
  {name:'Brown',hex:'#92400E',fact:'Brown is the color of earth, wood, and chocolate. Many animals are brown for camouflage.'},
  {name:'White',hex:'#F8FAFC',fact:'White light contains all colors of the rainbow combined together!'},
  {name:'Black',hex:'#1E293B',fact:'Black absorbs all light. In space, everything looks black because there is no air to scatter light.'},
  {name:'Gray',hex:'#6B7280',fact:'Gray is a mix of black and white. Elephants, dolphins, and wolves are all gray!'},
  {name:'Gold',hex:'#CA8A04',fact:'Gold has been prized by humans for thousands of years. It never rusts or tarnishes!'},
  {name:'Coral',hex:'#FB7185',fact:'Coral is named after ocean coral reefs, which can glow in stunning warm colors.'}
];

var SHAPES = [
  {name:'Circle',sides:0,sideTxt:'No sides, no corners',fact:'A circle is perfectly round. Every point on the edge is the same distance from the center.',draw:function(ctx,cx,cy,r,c){ctx.beginPath();ctx.arc(cx,cy,r*.8,0,Math.PI*2);ctx.fillStyle=c;ctx.fill()}},
  {name:'Triangle',sides:3,sideTxt:'3 sides, 3 corners',fact:'Triangles are the strongest shape in construction. Bridges use triangles everywhere!',draw:function(ctx,cx,cy,r,c){drawPoly(ctx,cx,cy,r*.8,3,c)}},
  {name:'Square',sides:4,sideTxt:'4 equal sides, 4 right angles',fact:'A square has all sides the same length and every corner is exactly 90 degrees.',draw:function(ctx,cx,cy,r,c){drawPoly(ctx,cx,cy,r*.75,4,c)}},
  {name:'Rectangle',sides:4,sideTxt:'4 sides, 4 right angles',fact:'Rectangles are everywhere -- books, screens, doors, and windows are all rectangles!',draw:function(ctx,cx,cy,r,c){ctx.fillStyle=c;ctx.fillRect(cx-r*.85,cy-r*.55,r*1.7,r*1.1)}},
  {name:'Pentagon',sides:5,sideTxt:'5 sides, 5 corners',fact:'The Pentagon building in Washington D.C. is shaped like a pentagon. It is one of the biggest buildings on Earth!',draw:function(ctx,cx,cy,r,c){drawPoly(ctx,cx,cy,r*.8,5,c)}},
  {name:'Hexagon',sides:6,sideTxt:'6 sides, 6 corners',fact:'Honeybees build their honeycomb cells in perfect hexagons. It is the most efficient shape for packing!',draw:function(ctx,cx,cy,r,c){drawPoly(ctx,cx,cy,r*.8,6,c)}},
  {name:'Star',sides:5,sideTxt:'5 points',fact:'Stars in the sky are actually spheres, but we draw them with points because they twinkle!',draw:function(ctx,cx,cy,r,c){drawStar(ctx,cx,cy,r*.85,5,c)}},
  {name:'Diamond',sides:4,sideTxt:'4 equal sides, tilted square',fact:'A diamond shape is really a square rotated 45 degrees. Playing cards use diamond shapes!',draw:function(ctx,cx,cy,r,c){ctx.save();ctx.translate(cx,cy);ctx.rotate(Math.PI/4);ctx.fillStyle=c;ctx.fillRect(-r*.6,-r*.6,r*1.2,r*1.2);ctx.restore()}},
  {name:'Oval',sides:0,sideTxt:'No sides, no corners',fact:'An oval is like a stretched circle. Eggs, football, and planets have oval shapes!',draw:function(ctx,cx,cy,r,c){ctx.beginPath();ctx.ellipse(cx,cy,r*.9,r*.6,0,0,Math.PI*2);ctx.fillStyle=c;ctx.fill()}},
  {name:'Heart',sides:0,sideTxt:'A symbol of love',fact:'The heart shape has been used as a symbol of love for over 800 years!',draw:function(ctx,cx,cy,r,c){drawHeart(ctx,cx,cy,r*.7,c)}}
];

function drawPoly(ctx,cx,cy,r,n,c) {
  ctx.beginPath();
  for (var i = 0; i < n; i++) {
    var a = (i / n) * Math.PI * 2 - Math.PI / 2;
    var x = cx + Math.cos(a) * r, y = cy + Math.sin(a) * r;
    if (i === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
  }
  ctx.closePath(); ctx.fillStyle = c; ctx.fill();
}

function drawStar(ctx,cx,cy,r,points,c) {
  ctx.beginPath();
  for (var i = 0; i < points * 2; i++) {
    var a = (i / (points * 2)) * Math.PI * 2 - Math.PI / 2;
    var rad = i % 2 === 0 ? r : r * 0.4;
    var x = cx + Math.cos(a) * rad, y = cy + Math.sin(a) * rad;
    if (i === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
  }
  ctx.closePath(); ctx.fillStyle = c; ctx.fill();
}

function drawHeart(ctx,cx,cy,r,c) {
  ctx.beginPath();
  ctx.moveTo(cx, cy + r * 0.7);
  ctx.bezierCurveTo(cx - r * 1.2, cy - r * 0.2, cx - r * 0.7, cy - r * 1.1, cx, cy - r * 0.5);
  ctx.bezierCurveTo(cx + r * 0.7, cy - r * 1.1, cx + r * 1.2, cy - r * 0.2, cx, cy + r * 0.7);
  ctx.fillStyle = c; ctx.fill();
}

var currentColor = 0;
var currentShape = 0;
var activeTab = 'colors';
var colorCells = [];
var shapeCells = [];

function buildColorGrid() {
  var grid = document.getElementById('colorGrid');
  COLORS.forEach(function(c, i) {
    var cell = document.createElement('div');
    cell.className = 'color-cell' + (i === 0 ? ' active' : '');
    cell.style.background = c.hex;
    cell.dataset.index = i;
    cell.innerHTML = '<div class="color-cell-label">' + c.name + '</div>';
    grid.appendChild(cell);
    colorCells.push(cell);
  });
}

function showColor(idx) {
  currentColor = idx;
  var c = COLORS[idx];
  var swatch = document.getElementById('colorSwatch');
  swatch.style.background = c.hex;
  swatch.classList.remove('pop'); void swatch.offsetWidth; swatch.classList.add('pop');
  document.getElementById('colorName').textContent = c.name;
  document.getElementById('colorName').style.color = c.hex;
  document.getElementById('colorHex').textContent = c.hex;
  document.getElementById('colorFact').textContent = c.fact;
  colorCells.forEach(function(cell, i) { cell.classList.toggle('active', i === idx); });
  speakText(c.name);
}

function buildShapeGrid() {
  var grid = document.getElementById('shapeGrid');
  SHAPES.forEach(function(s, i) {
    var cell = document.createElement('div');
    cell.className = 'shape-cell' + (i === 0 ? ' active' : '');
    cell.dataset.index = i;
    var cvs = document.createElement('canvas');
    cvs.width = 60; cvs.height = 60;
    var ctx = cvs.getContext('2d');
    s.draw(ctx, 30, 30, 25, '#38bdf8');
    cell.appendChild(cvs);
    var label = document.createElement('div');
    label.className = 'shape-cell-name';
    label.textContent = s.name;
    cell.appendChild(label);
    grid.appendChild(cell);
    shapeCells.push(cell);
  });
}

function showShape(idx) {
  currentShape = idx;
  var s = SHAPES[idx];
  var cvs = document.getElementById('shapeCanvas');
  cvs.classList.remove('pop'); void cvs.offsetWidth; cvs.classList.add('pop');
  var ctx = cvs.getContext('2d');
  ctx.clearRect(0, 0, cvs.width, cvs.height);
  s.draw(ctx, 90, 90, 70, '#38bdf8');
  document.getElementById('shapeName').textContent = s.name;
  document.getElementById('shapeSides').textContent = s.sideTxt;
  document.getElementById('shapeFact').textContent = s.fact;
  shapeCells.forEach(function(cell, i) { cell.classList.toggle('active', i === idx); });
  speakText(s.name);
}

function speakText(text) {
  try {
    var ac = new (window.AudioContext || window.webkitAudioContext)();
    var o = ac.createOscillator(), g = ac.createGain();
    o.connect(g); g.connect(ac.destination);
    o.type = 'sine'; o.frequency.value = 523;
    g.gain.setValueAtTime(0.1, ac.currentTime);
    g.gain.exponentialRampToValueAtTime(0.001, ac.currentTime + 0.15);
    o.start(); o.stop(ac.currentTime + 0.15);
  } catch(e) {}
  if ('speechSynthesis' in window) {
    window.speechSynthesis.cancel();
    var u = new SpeechSynthesisUtterance(text);
    u.rate = 0.85; u.pitch = 1.1;
    window.speechSynthesis.speak(u);
  }
}

function switchTab(tab) {
  activeTab = tab;
  document.getElementById('panelColors').classList.toggle('active', tab === 'colors');
  document.getElementById('panelShapes').classList.toggle('active', tab === 'shapes');
  document.getElementById('tabColors').className = 'tab' + (tab === 'colors' ? ' active-colors' : '');
  document.getElementById('tabShapes').className = 'tab' + (tab === 'shapes' ? ' active-shapes' : '');
}

function bindTouch(el, fn) {
  el.addEventListener('click', function(e) {
    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;
    fn(e);
  });
  el.addEventListener('touchend', function(e) {
    e.preventDefault(); e.stopPropagation(); fn(e);
  });
}

bindTouch(document.getElementById('tabColors'), function() { switchTab('colors'); });
bindTouch(document.getElementById('tabShapes'), function() { switchTab('shapes'); });

document.getElementById('colorGrid').addEventListener('click', function(e) {
  if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;
  var cell = e.target.closest('.color-cell');
  if (cell) showColor(parseInt(cell.dataset.index));
});
document.getElementById('colorGrid').addEventListener('touchend', function(e) {
  var cell = e.target.closest('.color-cell');
  if (cell) { e.preventDefault(); showColor(parseInt(cell.dataset.index)); }
});

document.getElementById('shapeGrid').addEventListener('click', function(e) {
  if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;
  var cell = e.target.closest('.shape-cell');
  if (cell) showShape(parseInt(cell.dataset.index));
});
document.getElementById('shapeGrid').addEventListener('touchend', function(e) {
  var cell = e.target.closest('.shape-cell');
  if (cell) { e.preventDefault(); showShape(parseInt(cell.dataset.index)); }
});

bindTouch(document.getElementById('btnHearColor'), function() { speakText(COLORS[currentColor].name); });
bindTouch(document.getElementById('btnHearShape'), function() { speakText(SHAPES[currentShape].name + '. ' + SHAPES[currentShape].sideTxt); });
bindTouch(document.getElementById('btnBack'), function() { location.href = '../index.html'; });

buildColorGrid();
buildShapeGrid();
showColor(0);
showShape(0);

var blobs = document.getElementById('bgBlobs');
var blobColors = ['#ef4444','#f97316','#eab308','#22c55e','#3b82f6','#e879f9'];
for (var i = 0; i < 6; i++) {
  var b = document.createElement('div');
  b.className = 'blob';
  b.style.width = b.style.height = (150 + Math.random() * 200) + 'px';
  b.style.left = (Math.random() * 100) + '%';
  b.style.top = (Math.random() * 100) + '%';
  b.style.background = blobColors[i];
  b.style.setProperty('--dur', (6 + Math.random() * 8) + 's');
  b.style.setProperty('--dx', ((Math.random() - .5) * 100) + 'px');
  b.style.setProperty('--dy', ((Math.random() - .5) * 100) + 'px');
  b.style.animationDelay = (Math.random() * 5) + 's';
  blobs.appendChild(b);
}

document.addEventListener('touchstart', function(e) {
  for (var i = 0; i < e.changedTouches.length; i++) {
    var t = e.changedTouches[i];
    var ring = document.createElement('div');
    ring.className = 'touch-ring';
    ring.style.left = t.clientX + 'px';
    ring.style.top = t.clientY + 'px';
    document.body.appendChild(ring);
    ring.addEventListener('animationend', function() { this.remove(); });
  }
}, { passive: true });
</script>
</body>
</html>
